{"ast":null,"code":"import _slicedToArray from \"D:/Projects/Work in progress/social-media-app-master/social-media-app-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useRef, useState, useEffect } from 'react';\nimport { clamp } from '../utils/clamp/clamp.js';\nvar clampUseMovePosition = function clampUseMovePosition(position) {\n  return {\n    x: clamp({\n      min: 0,\n      max: 1,\n      value: position.x\n    }),\n    y: clamp({\n      min: 0,\n      max: 1,\n      value: position.y\n    })\n  };\n};\nfunction useMove(onChange, handlers) {\n  var dir = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"ltr\";\n  var ref = useRef();\n  var mounted = useRef(false);\n  var isSliding = useRef(false);\n  var frame = useRef(0);\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    active = _useState2[0],\n    setActive = _useState2[1];\n  useEffect(function () {\n    mounted.current = true;\n  }, []);\n  useEffect(function () {\n    var onScrub = function onScrub(_ref) {\n      var x = _ref.x,\n        y = _ref.y;\n      cancelAnimationFrame(frame.current);\n      frame.current = requestAnimationFrame(function () {\n        if (mounted.current && ref.current) {\n          ref.current.style.userSelect = \"none\";\n          var rect = ref.current.getBoundingClientRect();\n          if (rect.width && rect.height) {\n            var _x = clamp({\n              value: (x - rect.left) / rect.width,\n              min: 0,\n              max: 1\n            });\n            onChange({\n              x: dir === \"ltr\" ? _x : 1 - _x,\n              y: clamp({\n                value: (y - rect.top) / rect.height,\n                min: 0,\n                max: 1\n              })\n            });\n          }\n        }\n      });\n    };\n    var bindEvents = function bindEvents() {\n      document.addEventListener(\"mousemove\", onMouseMove);\n      document.addEventListener(\"mouseup\", stopScrubbing);\n      document.addEventListener(\"touchmove\", onTouchMove);\n      document.addEventListener(\"touchend\", stopScrubbing);\n    };\n    var unbindEvents = function unbindEvents() {\n      document.removeEventListener(\"mousemove\", onMouseMove);\n      document.removeEventListener(\"mouseup\", stopScrubbing);\n      document.removeEventListener(\"touchmove\", onTouchMove);\n      document.removeEventListener(\"touchend\", stopScrubbing);\n    };\n    var startScrubbing = function startScrubbing() {\n      if (!isSliding.current && mounted.current) {\n        isSliding.current = true;\n        typeof (handlers == null ? void 0 : handlers.onScrubStart) === \"function\" && handlers.onScrubStart();\n        setActive(true);\n        bindEvents();\n      }\n    };\n    var stopScrubbing = function stopScrubbing() {\n      if (isSliding.current && mounted.current) {\n        isSliding.current = false;\n        typeof (handlers == null ? void 0 : handlers.onScrubEnd) === \"function\" && handlers.onScrubEnd();\n        setActive(false);\n        unbindEvents();\n      }\n    };\n    var onMouseDown = function onMouseDown(event) {\n      startScrubbing();\n      onMouseMove(event);\n    };\n    var onMouseMove = function onMouseMove(event) {\n      return onScrub({\n        x: event.clientX,\n        y: event.clientY\n      });\n    };\n    var onTouchStart = function onTouchStart(event) {\n      startScrubbing();\n      event == null ? void 0 : event.preventDefault();\n      onTouchMove(event);\n    };\n    var onTouchMove = function onTouchMove(event) {\n      event == null ? void 0 : event.preventDefault();\n      onScrub({\n        x: event.changedTouches[0].clientX,\n        y: event.changedTouches[0].clientY\n      });\n    };\n    ref.current.addEventListener(\"mousedown\", onMouseDown);\n    ref.current.addEventListener(\"touchstart\", onTouchStart);\n    return function () {\n      if (ref.current) {\n        ref.current.removeEventListener(\"mousedown\", onMouseDown);\n        ref.current.removeEventListener(\"touchstart\", onTouchStart);\n      }\n    };\n  }, [dir, onChange]);\n  return {\n    ref: ref,\n    active: active\n  };\n}\nexport { clampUseMovePosition, useMove };","map":{"version":3,"names":["clampUseMovePosition","position","x","clamp","min","max","value","y","useMove","onChange","handlers","dir","arguments","length","undefined","ref","useRef","mounted","isSliding","frame","_useState","useState","_useState2","_slicedToArray","active","setActive","useEffect","current","onScrub","_ref","cancelAnimationFrame","requestAnimationFrame","style","userSelect","rect","getBoundingClientRect","width","height","_x","left","top","bindEvents","document","addEventListener","onMouseMove","stopScrubbing","onTouchMove","unbindEvents","removeEventListener","startScrubbing","onScrubStart","onScrubEnd","onMouseDown","event","clientX","clientY","onTouchStart","preventDefault","changedTouches"],"sources":["D:\\Projects\\Work in progress\\social-media-app-master\\social-media-app-master\\node_modules\\@mantine\\hooks\\src\\use-move\\use-move.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-use-before-define */\nimport { useEffect, useState, useRef } from 'react';\nimport { clamp } from '../utils';\n\nexport interface UseMovePosition {\n  x: number;\n  y: number;\n}\n\nexport const clampUseMovePosition = (position: UseMovePosition) => ({\n  x: clamp({ min: 0, max: 1, value: position.x }),\n  y: clamp({ min: 0, max: 1, value: position.y }),\n});\n\ninterface useMoveHandlers {\n  onScrubStart?(): void;\n  onScrubEnd?(): void;\n}\n\nexport function useMove<T extends HTMLElement = HTMLDivElement>(\n  onChange: (value: UseMovePosition) => void,\n  handlers?: useMoveHandlers,\n  dir: 'ltr' | 'rtl' = 'ltr'\n) {\n  const ref = useRef<T>();\n  const mounted = useRef<boolean>(false);\n  const isSliding = useRef(false);\n  const frame = useRef(0);\n  const [active, setActive] = useState(false);\n\n  useEffect(() => {\n    mounted.current = true;\n  }, []);\n\n  useEffect(() => {\n    const onScrub = ({ x, y }: UseMovePosition) => {\n      cancelAnimationFrame(frame.current);\n\n      frame.current = requestAnimationFrame(() => {\n        if (mounted.current && ref.current) {\n          ref.current.style.userSelect = 'none';\n          const rect = ref.current.getBoundingClientRect();\n\n          if (rect.width && rect.height) {\n            const _x = clamp({ value: (x - rect.left) / rect.width, min: 0, max: 1 });\n            onChange({\n              x: dir === 'ltr' ? _x : 1 - _x,\n              y: clamp({ value: (y - rect.top) / rect.height, min: 0, max: 1 }),\n            });\n          }\n        }\n      });\n    };\n\n    const bindEvents = () => {\n      document.addEventListener('mousemove', onMouseMove);\n      document.addEventListener('mouseup', stopScrubbing);\n      document.addEventListener('touchmove', onTouchMove);\n      document.addEventListener('touchend', stopScrubbing);\n    };\n\n    const unbindEvents = () => {\n      document.removeEventListener('mousemove', onMouseMove);\n      document.removeEventListener('mouseup', stopScrubbing);\n      document.removeEventListener('touchmove', onTouchMove);\n      document.removeEventListener('touchend', stopScrubbing);\n    };\n\n    const startScrubbing = () => {\n      if (!isSliding.current && mounted.current) {\n        isSliding.current = true;\n        typeof handlers?.onScrubStart === 'function' && handlers.onScrubStart();\n        setActive(true);\n        bindEvents();\n      }\n    };\n\n    const stopScrubbing = () => {\n      if (isSliding.current && mounted.current) {\n        isSliding.current = false;\n        typeof handlers?.onScrubEnd === 'function' && handlers.onScrubEnd();\n        setActive(false);\n        unbindEvents();\n      }\n    };\n\n    const onMouseDown = (event: MouseEvent) => {\n      startScrubbing();\n      onMouseMove(event);\n    };\n\n    const onMouseMove = (event: MouseEvent) => onScrub({ x: event.clientX, y: event.clientY });\n\n    const onTouchStart = (event: TouchEvent) => {\n      startScrubbing();\n      event?.preventDefault();\n      onTouchMove(event);\n    };\n\n    const onTouchMove = (event: TouchEvent) => {\n      event?.preventDefault();\n      onScrub({ x: event.changedTouches[0].clientX, y: event.changedTouches[0].clientY });\n    };\n\n    ref.current.addEventListener('mousedown', onMouseDown);\n    ref.current.addEventListener('touchstart', onTouchStart);\n\n    return () => {\n      if (ref.current) {\n        ref.current.removeEventListener('mousedown', onMouseDown);\n        ref.current.removeEventListener('touchstart', onTouchStart);\n      }\n    };\n  }, [dir, onChange]);\n\n  return { ref, active };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}